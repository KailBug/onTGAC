# 2025 TGAC 
## Text2SQL with Agent方案介绍
**队伍名称：** 胡辣汤 

---

## 1. 方案摘要 
> 使用LangGraph 1.0作为Agent开发框架，具体流程包括 **Schema检索**、**Prompt组合**、**SQL生成**、**SQL Refine**，核心在于使用LLM的思维能力进行检索。

## 2. 系统架构 

### 2.1 整体流程
> 针对于每一个问题，分别经过Schema检索节点、Prompt组合和生成节点，最终得到SQL，然后根据执行的反馈进行修正，得到最终的SQL。

### 2.2 Agent 详细设计
* **Schema检索:** 将问题与schema向量进行相似性查询
* **Prompt组合:** 针对于推理模型设置了恰当的推理提示词，使用嵌入模型
* **SQL生成:** 将检索到的schema与prompt组合，借助大模型的推理能力生成SQL
* **SQL Refine:** 将执行后的SQL信息进行整合，来判断是否需要再次生成SQL

